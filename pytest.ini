[pytest]
testpaths =
    tests/unit
    tests/contract
    tests/integration
    tests/optional

python_files =
    test_*.py
    *_test.py

addopts = -ra

norecursedirs =
    .git
    .venv
    __pycache__
    .hypothesis
    tests/integration/routes

markers =
    unit: fast deterministic unit tests
    contract: contract tests for shared interfaces
    integration: in-process integration tests (FastAPI + worker)
    streaming: streaming/SSE related tests
    postgres: tests that require a postgres DATABASE_URL

filterwarnings =
    ignore::DeprecationWarning

asyncio_mode = auto
